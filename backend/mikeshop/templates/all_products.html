{% extends 'base.html' %}
{% block title %}All Products{% endblock %}

{% block content %}
<h1 class="h3 fw-semibold mb-4">All Products</h1>

<div class="row g-4">
  {% for p in products %}
    <div class="col-12 col-sm-6 col-lg-4">
      <div class="ps-card h-100 d-flex flex-column">
        <a href="/products/{{ p.id }}" class="d-block">
          <img src="{{ p.product_image.url }}" alt="{{ p.name }} image" loading="lazy">
        </a>
        <div class="p-3 p-lg-4 d-flex flex-column gap-2 flex-grow-1">
          <h2 class="h5 mb-0"><a href="/products/{{ p.id }}">{{ p.name }}</a></h2>
          <p class="ps-muted small flex-grow-1">{{ p.description|truncatechars:100 }}</p>
          <div class="d-flex justify-content-between align-items-center">
            <span class="fw-semibold">â‚¬{{ p.price }}</span>
            <a href="/addbasket/{{ p.id }}/" class="btn btn-ps btn-sm">Add to basket</a>
          </div>
        </div>
      </div>
    </div>
  {% empty %}
    <div class="col-12">
      <div class="alert alert-light border">No products available.</div>
    </div>
  {% endfor %}
</div>
{% endblock %}
